{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { NavigationContainer, DefaultTheme as NavigationDefaultTheme, DarkTheme as NavigationDarkTheme } from '@react-navigation/native';\nimport { createDrawerNavigator } from '@react-navigation/drawer';\nimport { Store } from \"./store\";\nimport { Provider } from \"react-redux\";\nimport { Provider as PaperProvider, DefaultTheme as PaperDefaultTheme, DarkTheme as PaperDarkTheme } from 'react-native-paper';\nimport RootStackScreen from \"./screens/RootStack/RootStackScreen\";\nimport RootDrawerScreen from \"./screens/RootDrawer/RootDrawer\";\nimport { AuthContext } from \"./components/context\";\nimport { _retrieveData, _storeData, _removeData, _clearData } from \"./components/_Asyncstorage\";\nimport axios from 'axios';\nimport combineReducers from 'react-combine-reducers';\nimport { LOGIN_REQUEST, LOGIN_FAIL, LOGIN_SUCCESS, REGISTER_USER_REQUEST, REGISTER_USER_SUCCESS, REGISTER_USER_FAIL, LOAD_USER_REQUEST, LOAD_USER_SUCCESS, LOAD_USER_FAIL, LOGOUT_SUCCESS, LOGOUT_FAIL, UPDATE_PROFILE_REQUEST, UPDATE_PROFILE_SUCCESS, UPDATE_PROFILE_FAIL, UPDATE_PROFILE_RESET, UPDATE_PASSWORD_REQUEST, UPDATE_PASSWORD_SUCCESS, UPDATE_PASSWORD_RESET, UPDATE_PASSWORD_FAIL, FORGOT_PASSWORD_REQUEST, FORGOT_PASSWORD_SUCCESS, FORGOT_PASSWORD_FAIL, RESET_PASSWORD_REQUEST, RESET_PASSWORD_SUCCESS, RESET_PASSWORD_FAIL, ALL_USERS_REQUEST, ALL_USERS_SUCCESS, ALL_USERS_FAIL, DELETE_USER_REQUEST, DELETE_USER_SUCCESS, DELETE_USER_FAIL, DELETE_USER_RESET, UPDATE_USER_REQUEST, UPDATE_USER_SUCCESS, UPDATE_USER_FAIL, UPDATE_USER_RESET, USER_DETAILS_REQUEST, USER_DETAILS_SUCCESS, USER_DETAILS_FAIL, CLEAR_ERRORS, RETRIEVE_TOKEN } from \"./constants/userConstants\";\nimport { userReducer, profileReducer } from \"./reducers/userReducer\";\nimport { positions, transitions, Provider as AlertProvider } from \"react-alert\";\nimport AlertTemplate from \"react-alert-template-basic\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Drawer = createDrawerNavigator();\n\nvar App = function App() {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isDarkTheme = _React$useState2[0],\n      setIsDarkTheme = _React$useState2[1];\n\n  var options = {\n    timeout: 5000,\n    position: positions.BOTTOM_CENTER,\n    transition: transitions.SCALE\n  };\n\n  var CustomDefaultTheme = _objectSpread(_objectSpread(_objectSpread({}, NavigationDefaultTheme), PaperDefaultTheme), {}, {\n    colors: _objectSpread(_objectSpread(_objectSpread({}, NavigationDefaultTheme.colors), PaperDefaultTheme.colors), {}, {\n      background: '#ffffff',\n      text: '#333333'\n    })\n  });\n\n  var CustomDarkTheme = _objectSpread(_objectSpread(_objectSpread({}, NavigationDarkTheme), PaperDarkTheme), {}, {\n    colors: _objectSpread(_objectSpread(_objectSpread({}, NavigationDarkTheme.colors), PaperDarkTheme.colors), {}, {\n      background: '#333333',\n      text: '#ffffff'\n    })\n  });\n\n  var theme = isDarkTheme ? CustomDarkTheme : CustomDefaultTheme;\n\n  var _combineReducers = combineReducers({\n    userReducer: [userReducer, state = {}],\n    profileReducer: [profileReducer, state = {}]\n  }),\n      _combineReducers2 = _slicedToArray(_combineReducers, 2),\n      rootReducerCombined = _combineReducers2[0],\n      initialStateCombined = _combineReducers2[1];\n\n  var _React$useReducer = React.useReducer(rootReducerCombined, initialStateCombined),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      loginState = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  var authContext = React.useMemo(function () {\n    return {\n      signin: function signin(formBody) {\n        return _regeneratorRuntime.async(function signin$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                dispatch({\n                  type: LOGIN_REQUEST\n                });\n                axios.post(\"https://apponpress.herokuapp.com/appAuth/login\", formBody).then(function _callee(response) {\n                  var data, id;\n                  return _regeneratorRuntime.async(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          data = response.data.user;\n                          console.log(data);\n                          id = data._id;\n\n                          if (!(id != null && id != undefined)) {\n                            _context.next = 18;\n                            break;\n                          }\n\n                          _context.prev = 4;\n                          _context.next = 7;\n                          return _regeneratorRuntime.awrap(_storeData('userToken', id));\n\n                        case 7:\n                          usertoken = _context.sent;\n                          _context.next = 13;\n                          break;\n\n                        case 10:\n                          _context.prev = 10;\n                          _context.t0 = _context[\"catch\"](4);\n                          console.log(_context.t0);\n\n                        case 13:\n                          dispatch({\n                            type: LOGIN_SUCCESS,\n                            payload: data.success\n                          });\n                          dispatch({\n                            type: LOAD_USER_REQUEST\n                          });\n                          axios.get(\"https://apponpress.herokuapp.com/appAuth/getUser?id=\" + id).then(function (response) {\n                            var data = response.data.user;\n                            console.log('load user after sign in==', data);\n\n                            if (response.data.status === 'ok') {\n                              dispatch({\n                                type: LOAD_USER_SUCCESS,\n                                payload: data,\n                                token: id\n                              });\n                            } else {\n                              dispatch({\n                                type: LOAD_USER_FAIL,\n                                payload: data.msg\n                              });\n                            }\n                          }).catch(function (err) {\n                            console.log(err);\n                          });\n                          _context.next = 19;\n                          break;\n\n                        case 18:\n                          dispatch({\n                            type: LOGIN_FAIL,\n                            payload: data.msg\n                          });\n\n                        case 19:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, null, null, [[4, 10]], Promise);\n                }).catch(function () {\n                  console.log(res.error);\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      },\n      updateImage: function updateImage(formBody) {\n        return _regeneratorRuntime.async(function updateImage$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                console.log('update image===', formBody);\n                dispatch({\n                  type: UPDATE_PROFILE_REQUEST\n                });\n                axios.post(\"https://apponpress.herokuapp.com/appAuth/profileImage\", formBody).then(function (response) {\n                  console.log('updated  image=....', response.config.data);\n                }).catch(function (e) {\n                  console.log(e);\n                });\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      },\n      updateProfile: function updateProfile(formBody) {\n        return _regeneratorRuntime.async(function updateProfile$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                console.log('update profile===', formBody);\n                dispatch({\n                  type: UPDATE_PROFILE_REQUEST\n                });\n                _context4.next = 4;\n                return _regeneratorRuntime.awrap(axios.put(\"https://apponpress.herokuapp.com/appAuth/postProfileData\", formBody).then(function (response) {\n                  var data = response.data.user;\n                  console.log('updated  profile=....', data);\n\n                  if (response.data.status === 'ok') {\n                    dispatch({\n                      type: UPDATE_PROFILE_SUCCESS,\n                      payload: response.data.success\n                    });\n                  } else {\n                    dispatch({\n                      type: UPDATE_PROFILE_FAIL,\n                      payload: response.data.msg\n                    });\n                  }\n                }).catch(function (error) {\n                  console.log(error);\n                }));\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      },\n      getUserAfterUpdate: function getUserAfterUpdate(id) {\n        return _regeneratorRuntime.async(function getUserAfterUpdate$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                dispatch({\n                  type: LOAD_USER_REQUEST\n                });\n                axios.get(\"https://apponpress.herokuapp.com/appAuth/getUser?id=\" + id).then(function (response) {\n                  var data = response.data.user;\n                  console.log(data);\n\n                  if (response.data.status === 'ok') {\n                    dispatch({\n                      type: LOAD_USER_SUCCESS,\n                      payload: data,\n                      token: id\n                    });\n                    dispatch({\n                      type: UPDATE_PROFILE_RESET\n                    });\n                  } else {\n                    dispatch({\n                      type: LOAD_USER_FAIL,\n                      payload: response.data.msg\n                    });\n                  }\n                }).catch(function (err) {\n                  console.log(err);\n                });\n\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      },\n      logout: function logout() {\n        return _regeneratorRuntime.async(function logout$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                try {\n                  Alert.alert(\"Do you want to log out !\", \"\", [{\n                    text: \"Cancel\",\n                    onPress: function onPress() {\n                      return console.log(\"Cancel Pressed\");\n                    },\n                    style: \"cancel\"\n                  }, {\n                    text: \"OK\",\n                    onPress: function onPress() {\n                      _removeData('userToken');\n\n                      dispatch({\n                        type: LOGOUT_SUCCESS\n                      });\n                    }\n                  }]);\n                } catch (error) {\n                  dispatch({\n                    type: LOGOUT_FAIL,\n                    payload: error.response.data.message\n                  });\n                }\n\n              case 1:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      },\n      toggleTheme: function toggleTheme() {\n        setIsDarkTheme(function (isDarkTheme) {\n          return !isDarkTheme;\n        });\n      },\n      clearErrors: function clearErrors() {\n        dispatch({\n          type: CLEAR_ERRORS\n        });\n      }\n    };\n  }, []);\n  useEffect(function () {\n    var usertoken = null;\n    setTimeout(function _callee2() {\n      var id;\n      return _regeneratorRuntime.async(function _callee2$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              _context7.next = 3;\n              return _regeneratorRuntime.awrap(_retrieveData('userToken'));\n\n            case 3:\n              usertoken = _context7.sent;\n              _context7.next = 9;\n              break;\n\n            case 6:\n              _context7.prev = 6;\n              _context7.t0 = _context7[\"catch\"](0);\n              console.log(_context7.t0);\n\n            case 9:\n              if (usertoken != null && usertoken != undefined) {\n                id = usertoken;\n                dispatch({\n                  type: LOAD_USER_REQUEST\n                });\n                axios.get(\"https://apponpress.herokuapp.com/appAuth/getUser?id=\" + id).then(function (response) {\n                  var data = response.data.user;\n\n                  if (response.data.status === 'ok') {\n                    dispatch({\n                      type: LOAD_USER_SUCCESS,\n                      payload: data,\n                      token: id\n                    });\n                  } else {\n                    dispatch({\n                      type: LOAD_USER_FAIL,\n                      payload: data.msg\n                    });\n                  }\n                }).catch(function (err) {\n                  console.log(err);\n                });\n              }\n\n            case 10:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, null, null, [[0, 6]], Promise);\n    }, 1000);\n  }, [dispatch, axios]);\n\n  if (loginState.userReducer.isLoading) {\n    return _jsx(View, {\n      style: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: _jsx(ActivityIndicator, {\n        size: \"large\"\n      })\n    });\n  }\n\n  return _jsx(Provider, {\n    store: Store,\n    children: _jsx(PaperProvider, {\n      theme: theme,\n      children: _jsx(AuthContext.Provider, {\n        value: _objectSpread(_objectSpread({}, authContext), {}, {\n          user: loginState.userReducer.user,\n          isUpdated: loginState.profileReducer.isUpdated,\n          error: loginState.profileReducer.error || loginState.userReducer.error\n        }),\n        children: _jsx(NavigationContainer, {\n          theme: theme,\n          children: loginState.userReducer.userToken !== null && loginState.userReducer.userToken !== undefined ? _jsx(RootDrawerScreen, {}) : _jsx(RootStackScreen, {})\n        })\n      })\n    })\n  });\n};\n\nexport default App;","map":{"version":3,"names":["React","useEffect","NavigationContainer","DefaultTheme","NavigationDefaultTheme","DarkTheme","NavigationDarkTheme","createDrawerNavigator","Store","Provider","PaperProvider","PaperDefaultTheme","PaperDarkTheme","RootStackScreen","RootDrawerScreen","AuthContext","_retrieveData","_storeData","_removeData","_clearData","axios","combineReducers","LOGIN_REQUEST","LOGIN_FAIL","LOGIN_SUCCESS","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","REGISTER_USER_FAIL","LOAD_USER_REQUEST","LOAD_USER_SUCCESS","LOAD_USER_FAIL","LOGOUT_SUCCESS","LOGOUT_FAIL","UPDATE_PROFILE_REQUEST","UPDATE_PROFILE_SUCCESS","UPDATE_PROFILE_FAIL","UPDATE_PROFILE_RESET","UPDATE_PASSWORD_REQUEST","UPDATE_PASSWORD_SUCCESS","UPDATE_PASSWORD_RESET","UPDATE_PASSWORD_FAIL","FORGOT_PASSWORD_REQUEST","FORGOT_PASSWORD_SUCCESS","FORGOT_PASSWORD_FAIL","RESET_PASSWORD_REQUEST","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAIL","ALL_USERS_REQUEST","ALL_USERS_SUCCESS","ALL_USERS_FAIL","DELETE_USER_REQUEST","DELETE_USER_SUCCESS","DELETE_USER_FAIL","DELETE_USER_RESET","UPDATE_USER_REQUEST","UPDATE_USER_SUCCESS","UPDATE_USER_FAIL","UPDATE_USER_RESET","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","CLEAR_ERRORS","RETRIEVE_TOKEN","userReducer","profileReducer","positions","transitions","AlertProvider","AlertTemplate","Drawer","App","useState","isDarkTheme","setIsDarkTheme","options","timeout","position","BOTTOM_CENTER","transition","SCALE","CustomDefaultTheme","colors","background","text","CustomDarkTheme","theme","state","rootReducerCombined","initialStateCombined","useReducer","loginState","dispatch","authContext","useMemo","signin","formBody","type","post","then","response","data","user","console","log","id","_id","undefined","usertoken","payload","success","get","status","token","msg","catch","err","res","error","updateImage","config","e","updateProfile","put","getUserAfterUpdate","logout","Alert","alert","onPress","style","message","toggleTheme","clearErrors","setTimeout","isLoading","flex","justifyContent","alignItems","isUpdated","userToken"],"sources":["/Users/dee/Desktop/WF/App.js"],"sourcesContent":["\nimport React, { useEffect } from 'react';\nimport { View, ActivityIndicator, Dimensions, Alert } from 'react-native';\nimport {\n  NavigationContainer,\n  DefaultTheme as NavigationDefaultTheme,\n  DarkTheme as NavigationDarkTheme\n} from '@react-navigation/native';\nimport { createDrawerNavigator } from '@react-navigation/drawer';\nimport { Store } from \"./store\";\nimport { Provider } from \"react-redux\";\nimport {\n  Provider as PaperProvider,\n  DefaultTheme as PaperDefaultTheme,\n  DarkTheme as PaperDarkTheme\n} from 'react-native-paper';\nimport RootStackScreen from './screens/RootStack/RootStackScreen';\nimport RootDrawerScreen from './screens/RootDrawer/RootDrawer';\nimport { AuthContext } from './components/context';\nimport { _retrieveData, _storeData, _removeData, _clearData } from './components/_Asyncstorage';\nimport axios from 'axios';\nimport combineReducers from 'react-combine-reducers';\n\nimport {\n  LOGIN_REQUEST,\n  LOGIN_FAIL,\n  LOGIN_SUCCESS,\n  REGISTER_USER_REQUEST,\n  REGISTER_USER_SUCCESS,\n  REGISTER_USER_FAIL,\n  LOAD_USER_REQUEST,\n  LOAD_USER_SUCCESS,\n  LOAD_USER_FAIL,\n  LOGOUT_SUCCESS,\n  LOGOUT_FAIL,\n  UPDATE_PROFILE_REQUEST,\n  UPDATE_PROFILE_SUCCESS,\n  UPDATE_PROFILE_FAIL,\n  UPDATE_PROFILE_RESET,\n  UPDATE_PASSWORD_REQUEST,\n  UPDATE_PASSWORD_SUCCESS,\n  UPDATE_PASSWORD_RESET,\n  UPDATE_PASSWORD_FAIL,\n  FORGOT_PASSWORD_REQUEST,\n  FORGOT_PASSWORD_SUCCESS,\n  FORGOT_PASSWORD_FAIL,\n  RESET_PASSWORD_REQUEST,\n  RESET_PASSWORD_SUCCESS,\n  RESET_PASSWORD_FAIL,\n  ALL_USERS_REQUEST,\n  ALL_USERS_SUCCESS,\n  ALL_USERS_FAIL,\n  DELETE_USER_REQUEST,\n  DELETE_USER_SUCCESS,\n  DELETE_USER_FAIL,\n  DELETE_USER_RESET,\n  UPDATE_USER_REQUEST,\n  UPDATE_USER_SUCCESS,\n  UPDATE_USER_FAIL,\n  UPDATE_USER_RESET,\n  USER_DETAILS_REQUEST,\n  USER_DETAILS_SUCCESS,\n  USER_DETAILS_FAIL,\n  CLEAR_ERRORS,\n  RETRIEVE_TOKEN,\n} from \"./constants/userConstants\";\nimport { userReducer, profileReducer } from \"./reducers/userReducer\"\nimport { positions, transitions, Provider as AlertProvider } from \"react-alert\";\nimport AlertTemplate from \"react-alert-template-basic\";\nconst Drawer = createDrawerNavigator();\n\nconst App = () => {\n  const [isDarkTheme, setIsDarkTheme] = React.useState(false);\n\n  const options = {\n    timeout: 5000,\n    position: positions.BOTTOM_CENTER,\n    transition: transitions.SCALE,\n  };\n\n  const CustomDefaultTheme = {\n    ...NavigationDefaultTheme,\n    ...PaperDefaultTheme,\n    colors: {\n      ...NavigationDefaultTheme.colors,\n      ...PaperDefaultTheme.colors,\n      background: '#ffffff',\n      text: '#333333'\n    }\n  }\n\n  const CustomDarkTheme = {\n    ...NavigationDarkTheme,\n    ...PaperDarkTheme,\n    colors: {\n      ...NavigationDarkTheme.colors,\n      ...PaperDarkTheme.colors,\n      background: '#333333',\n      text: '#ffffff'\n    }\n  }\n\n  const theme = isDarkTheme ? CustomDarkTheme : CustomDefaultTheme;\n  const [rootReducerCombined, initialStateCombined] = combineReducers({ userReducer: [userReducer, state = {}], profileReducer: [profileReducer, state = {}] });\n  const [loginState, dispatch] = React.useReducer(rootReducerCombined, initialStateCombined);\n\n  const authContext = React.useMemo(() => ({\n    signin: async (formBody) => {\n      dispatch({ type: LOGIN_REQUEST });\n      // `http://192.168.43.36:4000/appAuth/login`,\n      axios.post(\n        `https://apponpress.herokuapp.com/appAuth/login`,\n        formBody\n      ).then(async (response) => {\n        const data = response.data.user;\n        console.log(data)\n        const id = data._id;\n        if (id != null && id != undefined) {\n          try {\n            usertoken = await _storeData('userToken', id);\n          } catch (e) {\n            console.log(e);\n          }\n          dispatch({ type: LOGIN_SUCCESS, payload: data.success })\n          dispatch({ type: LOAD_USER_REQUEST });\n          // axios.get(`http://192.168.43.36:4000/appAuth/getUser?id=${id}`)\n          axios.get(`https://apponpress.herokuapp.com/appAuth/getUser?id=${id}`)\n            .then((response) => {\n              const data = response.data.user;\n              console.log('load user after sign in==', data)\n              if (response.data.status === 'ok') {\n                dispatch({ type: LOAD_USER_SUCCESS, payload: data, token: id });\n              } else {\n                dispatch({ type: LOAD_USER_FAIL, payload: data.msg });\n              }\n            }).catch((err) => { console.log(err) })\n        } else {\n          dispatch({ type: LOGIN_FAIL, payload: data.msg })\n        }\n      })\n        .catch(() => { console.log(res.error) })\n    },\n\n    updateImage: async (formBody) => {\n      console.log('update image===', formBody);\n      dispatch({ type: UPDATE_PROFILE_REQUEST });\n      // const config = { headers: { \"Content-Type\": 'application/x-www-form-urlencoded;charset=UTF-8' } };\n      // const { img } = await axios.post(`https://api.cloudinary.com/v1_1/dedqid79f/image/upload`, formBody);\n\n      // axios.post(`http://192.168.43.36:4000/appAuth/profileImage`, formBody)\n      axios.post(`https://apponpress.herokuapp.com/appAuth/profileImage`, formBody)\n        .then((response) => {\n          console.log('updated  image=....', response.config.data);\n        }).catch((e) => { console.log(e) });\n\n      //   if (img.status === 'ok') {\n      //     dispatch({ type: UPDATE_PROFILE_SUCCESS, payload: img.success });\n      //   } else {\n      //     dispatch({\n      //       type: UPDATE_PROFILE_FAIL,\n      //       payload: img.msg,\n      //     });\n      //   }\n      // } catch (error) { console.log(error) }\n    },\n\n    updateProfile: async (formBody) => {\n      console.log('update profile===', formBody);\n      dispatch({ type: UPDATE_PROFILE_REQUEST });\n      //const config = { headers: { \"Content-Type\": 'application/x-www-form-urlencoded;charset=UTF-8' } };\n      // const { data } = await axios.put(`http://192.168.43.36:4000/appAuth/postProfileData`, formBody, config);\n      await axios.put(`https://apponpress.herokuapp.com/appAuth/postProfileData`, formBody)\n        .then((response) => {\n          const data = response.data.user;\n          console.log('updated  profile=....', data);\n          if (response.data.status === 'ok') {\n            dispatch({ type: UPDATE_PROFILE_SUCCESS, payload: response.data.success });\n          } else {\n            dispatch({\n              type: UPDATE_PROFILE_FAIL,\n              payload: response.data.msg,\n            });\n          }\n        }).catch((error) => { console.log(error) });\n    },\n\n    getUserAfterUpdate: async (id) => {\n      dispatch({ type: LOAD_USER_REQUEST });\n      // axios.get(`http://192.168.43.36:4000/appAuth/getUser?id=${id}`)\n      axios.get(`https://apponpress.herokuapp.com/appAuth/getUser?id=${id}`)\n        .then((response) => {\n          const data = response.data.user;\n          console.log(data)\n          if (response.data.status === 'ok') {\n            dispatch({ type: LOAD_USER_SUCCESS, payload: data, token: id });\n            dispatch({ type: UPDATE_PROFILE_RESET });\n            // navigation.navigate(\"EditProfileScreen\");\n          } else {\n            dispatch({ type: LOAD_USER_FAIL, payload: response.data.msg });\n          }\n        }).catch((err) => { console.log(err) });\n    },\n\n    logout: async () => {\n      try {\n        Alert.alert(\n          \"Do you want to log out !\",\n          \"\",\n          [\n            {\n              text: \"Cancel\",\n              onPress: () => console.log(\"Cancel Pressed\"),\n              style: \"cancel\"\n            },\n            {\n              text: \"OK\", onPress: () => {\n                _removeData('userToken');\n                dispatch({ type: LOGOUT_SUCCESS });\n              }\n            }\n          ]\n        );\n      } catch (error) {\n        dispatch({ type: LOGOUT_FAIL, payload: error.response.data.message });\n      }\n    },\n\n    toggleTheme: () => {\n      setIsDarkTheme(isDarkTheme => !isDarkTheme);\n    },\n    clearErrors: () => {\n      dispatch({ type: CLEAR_ERRORS });\n    }\n\n  }), []);\n\n  useEffect(() => {\n    let usertoken = null;\n    setTimeout(async () => {\n      try {\n        usertoken = await _retrieveData('userToken');\n      } catch (e) {\n        console.log(e);\n      }\n      //  dispatch({ type: RETRIEVE_TOKEN, token: usertoken });\n     // console.log('tokeninsideuseEffect', usertoken);\n      if (usertoken != null && usertoken != undefined) {\n        let id = usertoken;\n        dispatch({ type: LOAD_USER_REQUEST });\n        // axios.get(`http://192.168.43.36:4000/appAuth/getUser?id=${id}`)\n         axios.get(`https://apponpress.herokuapp.com/appAuth/getUser?id=${id}`)\n          .then((response) => {\n            const data = response.data.user;\n            //console.log(data)\n            if (response.data.status === 'ok') {\n              dispatch({ type: LOAD_USER_SUCCESS, payload: data, token: id });\n            } else {\n              dispatch({ type: LOAD_USER_FAIL, payload: data.msg });\n            }\n          }).catch((err) => { console.log(err) })\n      }\n    }, 1000);\n  }, [dispatch, axios]);\n\n  if (loginState.userReducer.isLoading) {\n    return (\n      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n        <ActivityIndicator size=\"large\" />\n      </View>\n    );\n  }\n // console.log('loginstatetoken=======', loginState.userReducer.userToken);\n  return (\n    <Provider store={Store}>\n      <PaperProvider theme={theme}>\n        <AuthContext.Provider value={{\n          ...authContext,\n          user: loginState.userReducer.user,\n          isUpdated: loginState.profileReducer.isUpdated,\n          error: loginState.profileReducer.error || loginState.userReducer.error\n        }}>\n          {/* <AlertProvider template={AlertTemplate} {...options}> */}\n          <NavigationContainer theme={theme}>\n            {\n              (\n                loginState.userReducer.userToken !== null\n                &&\n                loginState.userReducer.userToken !== undefined\n              ) ? <RootDrawerScreen /> : <RootStackScreen />\n            }\n          </NavigationContainer>\n          {/* </AlertProvider> */}\n        </AuthContext.Provider>\n      </PaperProvider>\n    </Provider>\n  );\n}\n\nexport default App;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}